{"ast":null,"code":"var _jsxFileName = \"/Users/lighthouse42/Documents/GitHub/kptest/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { User, ArrowRight, CheckCircle, Plus, Edit3, Trash2, DollarSign, Home, Heart, TrendingUp, Save, BarChart3, ArrowLeft, FileText, Info, LogOut, AlertCircle } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar, AreaChart, Area } from 'recharts';\nimport { useAuth } from './auth.js';\nimport { LoginForm, SignupForm } from './AuthComponents.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LifeFinancialPlanner = () => {\n  _s();\n  // Authentication state\n  const {\n    user,\n    loading: authLoading,\n    login,\n    signup,\n    logout,\n    updateUserProfile,\n    updateUserScenarios,\n    isAuthenticated\n  } = useAuth();\n  const [authStep, setAuthStep] = useState('login'); // 'login' or 'signup'\n  const [authError, setAuthError] = useState('');\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n\n  // App state\n  const [step, setStep] = useState('profile_setup'); // 'profile_setup', 'scenario_list', 'scenario_create', 'scenario_results', 'methodology', 'scenario_comparison'\n  const [basicProfile, setBasicProfile] = useState({\n    name: '',\n    age: '',\n    gender: '',\n    lifeStage: ''\n  });\n  const [scenarios, setScenarios] = useState([]);\n  const [currentScenario, setCurrentScenario] = useState({\n    id: '',\n    name: '',\n    description: '',\n    currentIncome: 50000,\n    currentDebt: 0,\n    currentSavings: 5000,\n    monthlyExpenses: 3000,\n    salaryGrowthRate: 3,\n    housingStatus: 'renting',\n    monthlyRent: 1500,\n    homePrice: 300000,\n    downPaymentPercent: 20,\n    yearsUntilBuying: 3,\n    relationshipStatus: 'single',\n    partnerIncome: 0,\n    planToHaveChildren: false,\n    numberOfChildren: 0,\n    ageFirstChild: 30,\n    locationCost: 'average'\n  });\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const [selectedScenariosForComparison, setSelectedScenariosForComparison] = useState([]);\n  const [profileValidationErrors, setProfileValidationErrors] = useState({});\n  const [showProfileValidationErrors, setShowProfileValidationErrors] = useState(false);\n  const [scenarioValidationErrors, setScenarioValidationErrors] = useState({});\n  const [showScenarioValidationErrors, setShowScenarioValidationErrors] = useState(false);\n  const lifeStageOptions = [{\n    value: 'high_school',\n    label: 'High School Student',\n    desc: 'Planning for college'\n  }, {\n    value: 'college',\n    label: 'College Student',\n    desc: 'Currently in school'\n  }, {\n    value: 'recent_grad',\n    label: 'Recent Graduate',\n    desc: 'Just finished school, starting career'\n  }, {\n    value: 'early_career',\n    label: 'Early Career',\n    desc: '1-5 years work experience'\n  }, {\n    value: 'established',\n    label: 'Established Professional',\n    desc: '5+ years, considering major life changes'\n  }, {\n    value: 'mid_career',\n    label: 'Mid-Career',\n    desc: 'Peak earning years, family considerations'\n  }, {\n    value: 'pre_retirement',\n    label: 'Pre-Retirement',\n    desc: 'Planning for retirement transition'\n  }];\n  const genderOptions = [{\n    value: 'male',\n    label: 'Male'\n  }, {\n    value: 'female',\n    label: 'Female'\n  }, {\n    value: 'non_binary',\n    label: 'Non-binary'\n  }, {\n    value: 'prefer_not_to_say',\n    label: 'Prefer not to say'\n  }];\n\n  // Authentication handlers\n  const handleLogin = async (email, password) => {\n    setIsAuthLoading(true);\n    setAuthError('');\n    const result = await login(email, password);\n    if (!result.success) {\n      setAuthError(result.error);\n    }\n    setIsAuthLoading(false);\n  };\n  const handleSignup = async (email, password, name) => {\n    setIsAuthLoading(true);\n    setAuthError('');\n    const result = await signup(email, password, name);\n    if (!result.success) {\n      setAuthError(result.error);\n    } else {\n      // After successful signup, load user's existing profile if any\n      if (result.user && result.user.profile && result.user.profile.name) {\n        setBasicProfile(result.user.profile);\n        setScenarios(result.user.scenarios || []);\n        setStep('scenario_list');\n      }\n    }\n    setIsAuthLoading(false);\n  };\n  const handleLogout = () => {\n    logout();\n    setBasicProfile({\n      name: '',\n      age: '',\n      gender: '',\n      lifeStage: ''\n    });\n    setScenarios([]);\n    setStep('profile_setup');\n    setAuthStep('login');\n    setAuthError('');\n  };\n\n  // Load user data when authenticated\n  useEffect(() => {\n    if (user && isAuthenticated) {\n      if (user.profile && user.profile.name) {\n        setBasicProfile(user.profile);\n        setScenarios(user.scenarios || []);\n        setStep('scenario_list');\n      } else {\n        setStep('profile_setup');\n      }\n    }\n  }, [user, isAuthenticated]);\n\n  // Listen for auth form switching\n  useEffect(() => {\n    const handleSwitchToSignup = () => setAuthStep('signup');\n    const handleSwitchToLogin = () => setAuthStep('login');\n    window.addEventListener('switchToSignup', handleSwitchToSignup);\n    window.addEventListener('switchToLogin', handleSwitchToLogin);\n    return () => {\n      window.removeEventListener('switchToSignup', handleSwitchToSignup);\n      window.removeEventListener('switchToLogin', handleSwitchToLogin);\n    };\n  }, []);\n  const handleProfileUpdate = (field, value) => {\n    setBasicProfile(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear validation error when user starts typing\n    if (profileValidationErrors[field]) {\n      setProfileValidationErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n      setShowProfileValidationErrors(false);\n    }\n  };\n  const handleScenarioUpdate = (field, value) => {\n    setCurrentScenario(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear validation error when user starts typing\n    if (scenarioValidationErrors[field]) {\n      setScenarioValidationErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n      setShowScenarioValidationErrors(false);\n    }\n  };\n\n  // Save profile and update user data\n  const saveBasicProfile = () => {\n    // Validate required fields\n    const errors = {};\n    if (!basicProfile.name.trim()) {\n      errors.name = 'Name is required';\n    }\n    if (!basicProfile.age) {\n      errors.age = 'Age is required';\n    }\n    if (!basicProfile.gender) {\n      errors.gender = 'Gender selection is required';\n    }\n    if (!basicProfile.lifeStage) {\n      errors.lifeStage = 'Life stage selection is required';\n    }\n    if (Object.keys(errors).length > 0) {\n      setProfileValidationErrors(errors);\n      setShowProfileValidationErrors(true);\n      return;\n    }\n    setProfileValidationErrors({});\n    setShowProfileValidationErrors(false);\n    if (isAuthenticated && user) {\n      updateUserProfile(basicProfile);\n    }\n    setStep('scenario_list');\n  };\n  const saveScenario = () => {\n    // Validate required fields\n    const errors = {};\n    if (!currentScenario.name.trim()) {\n      errors.name = 'Scenario name is required';\n    }\n    if (Object.keys(errors).length > 0) {\n      setScenarioValidationErrors(errors);\n      setShowScenarioValidationErrors(true);\n      return;\n    }\n    setScenarioValidationErrors({});\n    setShowScenarioValidationErrors(false);\n    const scenarioToSave = {\n      ...currentScenario,\n      id: currentScenario.id || Date.now().toString(),\n      createdAt: new Date().toISOString()\n    };\n    const updatedScenarios = currentScenario.id ? scenarios.map(s => s.id === currentScenario.id ? scenarioToSave : s) : [...scenarios, scenarioToSave];\n    setScenarios(updatedScenarios);\n\n    // Update user's scenarios in auth system\n    if (isAuthenticated && user) {\n      updateUserScenarios(updatedScenarios);\n    }\n    setStep('scenario_list');\n  };\n  const createNewScenario = () => {\n    setCurrentScenario({\n      id: '',\n      name: '',\n      description: '',\n      currentIncome: 50000,\n      currentDebt: 0,\n      currentSavings: 5000,\n      monthlyExpenses: 3000,\n      salaryGrowthRate: 3,\n      housingStatus: 'renting',\n      monthlyRent: 1500,\n      homePrice: 300000,\n      downPaymentPercent: 20,\n      yearsUntilBuying: 3,\n      relationshipStatus: 'single',\n      partnerIncome: 0,\n      planToHaveChildren: false,\n      numberOfChildren: 0,\n      ageFirstChild: 30,\n      locationCost: 'average'\n    });\n    setStep('scenario_create');\n  };\n  const editScenario = scenario => {\n    setCurrentScenario(scenario);\n    setStep('scenario_create');\n  };\n  const deleteScenario = scenarioId => {\n    const updatedScenarios = scenarios.filter(s => s.id !== scenarioId);\n    setScenarios(updatedScenarios);\n\n    // Update user's scenarios in auth system\n    if (isAuthenticated && user) {\n      updateUserScenarios(updatedScenarios);\n    }\n  };\n  const runAnalysis = scenario => {\n    const results = calculateLifeProjection(scenario, basicProfile);\n    setAnalysisResults({\n      scenario,\n      results\n    });\n    setStep('scenario_results');\n  };\n  const compareScenarios = scenarioIds => {\n    const comparisons = scenarioIds.map(id => {\n      const scenario = scenarios.find(s => s.id === id);\n      const results = calculateLifeProjection(scenario, basicProfile);\n      return {\n        scenario,\n        results\n      };\n    });\n    setSelectedScenariosForComparison(comparisons);\n    setStep('scenario_comparison');\n  };\n\n  // Calculate additional metrics for enhanced analysis\n  const calculateEnhancedMetrics = (results, scenario) => {\n    var _metrics$emergencyFun;\n    const metrics = {\n      cashFlowAnalysis: [],\n      emergencyFundStatus: [],\n      expenseRatios: [],\n      retirementReadiness: {}\n    };\n    results.forEach((year, index) => {\n      // Cash Flow Analysis\n      const monthlyCashFlow = (year.income - year.expenses) / 12;\n      metrics.cashFlowAnalysis.push({\n        age: year.age,\n        year: year.year,\n        monthlyCashFlow: Math.round(monthlyCashFlow),\n        annualCashFlow: Math.round(year.income - year.expenses),\n        income: year.income,\n        expenses: year.expenses,\n        isPositive: monthlyCashFlow > 0\n      });\n\n      // Emergency Fund Status (months of expenses covered)\n      const monthsOfExpenses = year.netWorth > 0 ? year.netWorth / (year.expenses / 12) : 0;\n      metrics.emergencyFundStatus.push({\n        age: year.age,\n        year: year.year,\n        monthsCovered: Math.min(Math.round(monthsOfExpenses), 24),\n        // Cap at 24 months for chart readability\n        isAdequate: monthsOfExpenses >= 6,\n        netWorth: year.netWorth,\n        monthlyExpenses: year.expenses / 12\n      });\n\n      // Expense Ratios\n      const housingRatio = year.income > 0 ? year.housingExpenses / year.income * 100 : 0;\n      const livingRatio = year.income > 0 ? year.livingExpenses / year.income * 100 : 0;\n      const savingsRatio = year.income > 0 ? year.savings / year.income * 100 : 0;\n      metrics.expenseRatios.push({\n        age: year.age,\n        year: year.year,\n        housingRatio: Math.round(housingRatio),\n        livingRatio: Math.round(livingRatio),\n        savingsRatio: Math.round(savingsRatio),\n        totalExpenseRatio: Math.round(housingRatio + livingRatio)\n      });\n    });\n\n    // Retirement Readiness Calculation\n    const finalYear = results[results.length - 1];\n    const currentAge = parseInt(basicProfile.age);\n    const retirementAge = 65;\n    const yearsToRetirement = Math.max(0, retirementAge - currentAge);\n    const finalNetWorth = finalYear.netWorth;\n\n    // Rule of thumb: 25x annual expenses for retirement (4% withdrawal rule)\n    const finalAnnualExpenses = finalYear.expenses;\n    const recommendedRetirementAmount = finalAnnualExpenses * 25;\n    const retirementReadinessPercent = finalNetWorth / recommendedRetirementAmount * 100;\n\n    // Average savings rate over projection\n    const avgSavingsRate = results.reduce((sum, year) => {\n      return sum + (year.income > 0 ? year.savings / year.income * 100 : 0);\n    }, 0) / results.length;\n    metrics.retirementReadiness = {\n      currentAge,\n      retirementAge,\n      yearsToRetirement,\n      projectedNetWorth: finalNetWorth,\n      recommendedAmount: recommendedRetirementAmount,\n      readinessPercent: Math.round(retirementReadinessPercent),\n      avgSavingsRate: Math.round(avgSavingsRate),\n      grade: retirementReadinessPercent >= 100 ? 'A' : retirementReadinessPercent >= 80 ? 'B' : retirementReadinessPercent >= 60 ? 'C' : retirementReadinessPercent >= 40 ? 'D' : 'F',\n      monthsEmergencyFund: ((_metrics$emergencyFun = metrics.emergencyFundStatus[0]) === null || _metrics$emergencyFun === void 0 ? void 0 : _metrics$emergencyFun.monthsCovered) || 0\n    };\n    return metrics;\n  };\n\n  // Financial calculation engine\n  const calculateLifeProjection = (scenario, profile) => {\n    const locationMultipliers = {\n      low: {\n        housing: 0.7,\n        salary: 0.9,\n        living: 0.8\n      },\n      average: {\n        housing: 1.0,\n        salary: 1.0,\n        living: 1.0\n      },\n      high: {\n        housing: 1.8,\n        salary: 1.3,\n        living: 1.3\n      }\n    };\n    const projection = [];\n    const regionData = locationMultipliers[scenario.locationCost];\n    let currentAge = parseInt(profile.age);\n    let netWorth = scenario.currentSavings - scenario.currentDebt;\n    let annualIncome = scenario.currentIncome * regionData.salary;\n    let isMarried = scenario.relationshipStatus === 'married';\n    let isPartnered = scenario.relationshipStatus !== 'single';\n    let childrenBorn = 0;\n    let ownHouse = scenario.housingStatus === 'owns';\n    let monthlyHousing = scenario.housingStatus === 'living_with_family' ? 0 : ownHouse ? scenario.homePrice * regionData.housing * 0.004 : scenario.monthlyRent * regionData.housing;\n    if (isPartnered) {\n      annualIncome += scenario.partnerIncome * regionData.salary;\n    }\n    for (let year = 0; year < 45; year++) {\n      currentAge = parseInt(profile.age) + year;\n\n      // House purchase\n      if (!ownHouse && scenario.housingStatus === 'renting' && year >= scenario.yearsUntilBuying) {\n        ownHouse = true;\n        const housePrice = scenario.homePrice * regionData.housing;\n        const downPaymentAmount = housePrice * (scenario.downPaymentPercent / 100);\n        netWorth -= downPaymentAmount;\n        monthlyHousing = (housePrice - downPaymentAmount) * 0.055 / 12;\n      }\n\n      // Children\n      if (scenario.planToHaveChildren && currentAge >= scenario.ageFirstChild && childrenBorn < scenario.numberOfChildren) {\n        const yearsFromFirst = currentAge - scenario.ageFirstChild;\n        const newChildren = Math.min(Math.floor(yearsFromFirst / 2) + 1, scenario.numberOfChildren) - childrenBorn;\n        childrenBorn += newChildren;\n      }\n\n      // Annual calculations\n      const inflationFactor = Math.pow(1.025, year);\n      const realIncome = annualIncome * Math.pow(1 + scenario.salaryGrowthRate / 100, year);\n      const baseExpenses = scenario.monthlyExpenses * 12;\n      const childExpenses = childrenBorn * 12000;\n      const livingExpenses = (baseExpenses + childExpenses) * regionData.living * inflationFactor;\n      const housingExpenses = monthlyHousing * 12 * inflationFactor;\n      const totalExpenses = livingExpenses + housingExpenses;\n      const savingsAmount = Math.max(0, realIncome - totalExpenses);\n      const investmentGains = netWorth > 0 ? netWorth * 0.07 : 0;\n      netWorth += savingsAmount + investmentGains;\n      projection.push({\n        age: currentAge,\n        year: currentAge,\n        netWorth: Math.round(netWorth),\n        income: Math.round(realIncome),\n        expenses: Math.round(totalExpenses),\n        savings: Math.round(savingsAmount),\n        married: isMarried,\n        partnered: isPartnered,\n        children: childrenBorn,\n        homeOwner: ownHouse,\n        livingExpenses: Math.round(livingExpenses),\n        housingExpenses: Math.round(housingExpenses),\n        childExpenses: Math.round(childExpenses * regionData.living * inflationFactor)\n      });\n    }\n    return projection;\n  };\n  const isProfileComplete = () => {\n    return basicProfile.name && basicProfile.age && basicProfile.gender && basicProfile.lifeStage;\n  };\n  const isScenarioComplete = () => {\n    return currentScenario.name.trim() !== '';\n  };\n\n  // Show loading screen while checking authentication\n  if (authLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show authentication forms if not logged in\n  if (!isAuthenticated) {\n    return authStep === 'login' ? /*#__PURE__*/_jsxDEV(LoginForm, {\n      onLogin: handleLogin,\n      loading: isAuthLoading,\n      error: authError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(SignupForm, {\n      onSignup: handleSignup,\n      loading: isAuthLoading,\n      error: authError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Profile Setup Component\n  if (step === 'profile_setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-xl max-w-2xl w-full p-8\",\n        children: [showProfileValidationErrors && Object.keys(profileValidationErrors).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-5 w-5 text-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Please complete all required fields:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-sm text-red-700 space-y-1\",\n            children: Object.entries(profileValidationErrors).map(([field, error]) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"w-1 h-1 bg-red-500 rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this), error]\n            }, field, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 p-3 rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(User, {\n                className: \"h-8 w-8 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-800 mb-2\",\n            children: \"Welcome to Life Financial Planner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Let's start with some basic information about you\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"What's your name?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: basicProfile.name,\n              onChange: e => handleProfileUpdate('name', e.target.value),\n              placeholder: \"Enter your first name\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"How old are you?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: basicProfile.age,\n              onChange: e => handleProfileUpdate('age', e.target.value),\n              placeholder: \"Age\",\n              min: \"16\",\n              max: \"75\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Gender (optional, helps with life expectancy calculations)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3\",\n              children: genderOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleProfileUpdate('gender', option.value),\n                className: `p-3 border rounded-lg text-left transition-colors ${basicProfile.gender === option.value ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-300 hover:border-gray-400'}`,\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"What's your current life stage?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: lifeStageOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleProfileUpdate('lifeStage', option.value),\n                className: `w-full p-4 border rounded-lg text-left transition-colors ${basicProfile.lifeStage === option.value ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `font-medium ${basicProfile.lifeStage === option.value ? 'text-blue-700' : 'text-gray-800'}`,\n                      children: option.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 579,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm ${basicProfile.lifeStage === option.value ? 'text-blue-600' : 'text-gray-600'}`,\n                      children: option.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 584,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 23\n                  }, this), basicProfile.lifeStage === option.value && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"h-5 w-5 text-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 21\n                }, this)\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 pt-6 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveBasicProfile,\n            disabled: !isProfileComplete(),\n            className: `w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${isProfileComplete() ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n            children: [\"Continue to Financial Scenarios\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 13\n          }, this), !isProfileComplete() && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 text-center mt-2\",\n            children: \"Please complete all fields to continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Scenario List View\n  if (step === 'scenario_list') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-800\",\n                children: [\"Welcome back, \", basicProfile.name, \"! \\uD83D\\uDC4B\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-2\",\n                children: \"Manage your financial scenarios and explore different life paths\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogout,\n                className: \"flex items-center gap-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(LogOut, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 19\n                }, this), \"Logout\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: createNewScenario,\n                className: \"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 19\n                }, this), \"New Scenario\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this), scenarios.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"h-12 w-12 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-medium text-gray-800 mb-2\",\n              children: \"No scenarios yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-6\",\n              children: \"Create your first financial scenario to start exploring different life paths\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: createNewScenario,\n              className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\",\n              children: \"Create Your First Scenario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-6\",\n            children: scenarios.map(scenario => {\n              var _scenario$currentInco;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-xl font-semibold text-gray-800\",\n                      children: scenario.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 680,\n                      columnNumber: 25\n                    }, this), scenario.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600 mt-1\",\n                      children: scenario.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 682,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => editScenario(scenario),\n                      className: \"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 690,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 686,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => deleteScenario(scenario.id),\n                      className: \"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 696,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 692,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-3 gap-6 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                      className: \"h-4 w-4 text-green-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 703,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Income:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 704,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"$\", (_scenario$currentInco = scenario.currentIncome) === null || _scenario$currentInco === void 0 ? void 0 : _scenario$currentInco.toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 705,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 702,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Home, {\n                      className: \"h-4 w-4 text-blue-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Housing:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 709,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"capitalize\",\n                      children: scenario.housingStatus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 710,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Heart, {\n                      className: \"h-4 w-4 text-pink-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Status:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 714,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"capitalize\",\n                      children: scenario.relationshipStatus.replace('_', ' ')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 715,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 pt-4 border-t border-gray-100 flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => runAnalysis(scenario),\n                    className: \"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 724,\n                      columnNumber: 25\n                    }, this), \"Run Analysis \\u2192\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"flex items-center gap-2 text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectedScenariosForComparison.some(s => s.scenario.id === scenario.id),\n                      onChange: e => {\n                        if (e.target.checked && selectedScenariosForComparison.length < 3) {\n                          const results = calculateLifeProjection(scenario, basicProfile);\n                          setSelectedScenariosForComparison(prev => [...prev, {\n                            scenario,\n                            results\n                          }]);\n                        } else {\n                          setSelectedScenariosForComparison(prev => prev.filter(s => s.scenario.id !== scenario.id));\n                        }\n                      },\n                      className: \"rounded\",\n                      disabled: !selectedScenariosForComparison.some(s => s.scenario.id === scenario.id) && selectedScenariosForComparison.length >= 3\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 728,\n                      columnNumber: 25\n                    }, this), \"Compare\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 21\n                }, this)]\n              }, scenario.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this), selectedScenariosForComparison.length >= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-blue-800\",\n                  children: [selectedScenariosForComparison.length, \" scenarios selected for comparison\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600\",\n                  children: selectedScenariosForComparison.map(s => s.scenario.name).join(', ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedScenariosForComparison([]),\n                  className: \"text-blue-600 hover:text-blue-700 text-sm px-3 py-1 border border-blue-200 rounded\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setStep('scenario_comparison'),\n                  className: \"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\",\n                  children: \"Compare Scenarios\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 771,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 pt-6 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setStep('profile_setup');\n                setBasicProfile({\n                  name: '',\n                  age: '',\n                  gender: '',\n                  lifeStage: ''\n                });\n                setScenarios([]);\n              },\n              className: \"text-gray-500 hover:text-gray-700 text-sm\",\n              children: \"Edit Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Scenario Creator\n  if (step === 'scenario_create') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setStep('scenario_list'),\n              className: \"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-800\",\n                children: currentScenario.id ? 'Edit Scenario' : 'Create New Scenario'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Define your financial situation and goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 13\n          }, this), showScenarioValidationErrors && Object.keys(scenarioValidationErrors).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"h-5 w-5 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-medium text-red-800\",\n                children: \"Please fix the following errors:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-red-700 space-y-1\",\n              children: Object.entries(scenarioValidationErrors).map(([field, error]) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-1 h-1 bg-red-500 rounded-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 23\n                }, this), error]\n              }, field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-800 mb-4\",\n                children: \"Scenario Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Scenario Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 845,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: currentScenario.name,\n                    onChange: e => handleScenarioUpdate('name', e.target.value),\n                    placeholder: \"e.g., Current Situation, Dream Job Path, Conservative Plan\",\n                    className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Description (Optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: currentScenario.description,\n                    onChange: e => handleScenarioUpdate('description', e.target.value),\n                    placeholder: \"Brief description of this scenario...\",\n                    rows: \"2\",\n                    className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 860,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"h-5 w-5 text-green-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 875,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-800\",\n                    children: \"Financial Basics\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 876,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setStep('methodology'),\n                  className: \"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm border border-blue-200 px-3 py-1 rounded-lg hover:bg-blue-50 transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(Info, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 21\n                  }, this), \"View Methodology\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 873,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Current Annual Income\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 888,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\",\n                      children: \"$\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 892,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"500000\",\n                      step: \"1000\",\n                      value: currentScenario.currentIncome,\n                      onChange: e => handleScenarioUpdate('currentIncome', Math.max(0, parseInt(e.target.value) || 0)),\n                      className: \"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                      placeholder: \"50000\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 893,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 891,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Current Debt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\",\n                      children: \"$\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 910,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"500000\",\n                      step: \"1000\",\n                      value: currentScenario.currentDebt,\n                      onChange: e => handleScenarioUpdate('currentDebt', Math.max(0, parseInt(e.target.value) || 0)),\n                      className: \"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                      placeholder: \"0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 909,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Current Savings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 924,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\",\n                      children: \"$\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 928,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"500000\",\n                      step: \"1000\",\n                      value: currentScenario.currentSavings,\n                      onChange: e => handleScenarioUpdate('currentSavings', Math.max(0, parseInt(e.target.value) || 0)),\n                      className: \"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                      placeholder: \"5000\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 929,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 927,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Monthly Living Expenses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 942,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\",\n                      children: \"$\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"20000\",\n                      step: \"100\",\n                      value: currentScenario.monthlyExpenses,\n                      onChange: e => handleScenarioUpdate('monthlyExpenses', Math.max(0, parseInt(e.target.value) || 0)),\n                      className: \"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                      placeholder: \"3000\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 947,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 945,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: \"Excludes housing costs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 958,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 941,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Annual Salary Growth Rate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 961,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"15\",\n                      step: \"0.5\",\n                      value: currentScenario.salaryGrowthRate,\n                      onChange: e => handleScenarioUpdate('salaryGrowthRate', Math.max(0, parseFloat(e.target.value) || 0)),\n                      className: \"w-full pr-8 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                      placeholder: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 965,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\",\n                      children: \"%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 975,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 964,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: \"Typical range: 2-5%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 977,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 960,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-6 border-t border-gray-200 flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setStep('scenario_list'),\n                className: \"px-6 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 984,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: saveScenario,\n                disabled: !isScenarioComplete(),\n                className: `px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${isScenarioComplete() ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 999,\n                  columnNumber: 19\n                }, this), currentScenario.id ? 'Update Scenario' : 'Save Scenario']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Scenario Results View\n  if (step === 'scenario_results' && analysisResults) {\n    const {\n      scenario,\n      results\n    } = analysisResults;\n    const enhancedMetrics = calculateEnhancedMetrics(results, scenario);\n    const finalYear = results[results.length - 1];\n    const peakNetWorth = results.reduce((max, year) => year.netWorth > max.netWorth ? year : max);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setStep('scenario_list'),\n              className: \"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-800\",\n                children: scenario.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: [\"Comprehensive financial analysis over \", results.length, \" years\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1030,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium opacity-90\",\n                children: [\"Net Worth at \", finalYear.age]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold\",\n                children: [\"$\", finalYear.netWorth.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium opacity-90\",\n                children: \"Retirement Readiness\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold\",\n                children: [\"Grade \", enhancedMetrics.retirementReadiness.grade]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1042,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs opacity-75\",\n                children: [enhancedMetrics.retirementReadiness.readinessPercent, \"% of goal\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-purple-500 to-pink-600 text-white p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium opacity-90\",\n                children: \"Avg Savings Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold\",\n                children: [enhancedMetrics.retirementReadiness.avgSavingsRate, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-orange-500 to-red-600 text-white p-6 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-medium opacity-90\",\n                children: \"Emergency Fund\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold\",\n                children: [enhancedMetrics.retirementReadiness.monthsEmergencyFund, \" mos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4\",\n            children: \"Net Worth Progression\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 400,\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: results,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1061,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"age\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1062,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                tickFormatter: value => `${(value / 1000).toFixed(0)}k`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1063,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                formatter: (value, name) => [`${value === null || value === void 0 ? void 0 : value.toLocaleString()}`, name],\n                labelFormatter: age => `Age ${age}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"netWorth\",\n                stroke: \"#2563eb\",\n                strokeWidth: 3,\n                name: \"Net Worth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1060,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-xl p-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setStep('scenario_list'),\n              className: \"px-6 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",\n              children: \"Back to Scenarios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => editScenario(scenario),\n              className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 17\n              }, this), \"Edit Scenario\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1019,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1018,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Default fallback\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-xl p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4\",\n        children: \"Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: \"Please refresh the page and try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep('profile_setup'),\n        className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\",\n        children: \"Start Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1104,\n    columnNumber: 5\n  }, this);\n};\n_s(LifeFinancialPlanner, \"e3LQ1Wj+GjnYo9aXaH1rNtZP1Mw=\", false, function () {\n  return [useAuth];\n});\n_c = LifeFinancialPlanner;\nexport default LifeFinancialPlanner;\nvar _c;\n$RefreshReg$(_c, \"LifeFinancialPlanner\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","User","ArrowRight","CheckCircle","Plus","Edit3","Trash2","DollarSign","Home","Heart","TrendingUp","Save","BarChart3","ArrowLeft","FileText","Info","LogOut","AlertCircle","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","BarChart","Bar","AreaChart","Area","useAuth","LoginForm","SignupForm","jsxDEV","_jsxDEV","LifeFinancialPlanner","_s","user","loading","authLoading","login","signup","logout","updateUserProfile","updateUserScenarios","isAuthenticated","authStep","setAuthStep","authError","setAuthError","isAuthLoading","setIsAuthLoading","step","setStep","basicProfile","setBasicProfile","name","age","gender","lifeStage","scenarios","setScenarios","currentScenario","setCurrentScenario","id","description","currentIncome","currentDebt","currentSavings","monthlyExpenses","salaryGrowthRate","housingStatus","monthlyRent","homePrice","downPaymentPercent","yearsUntilBuying","relationshipStatus","partnerIncome","planToHaveChildren","numberOfChildren","ageFirstChild","locationCost","analysisResults","setAnalysisResults","selectedScenariosForComparison","setSelectedScenariosForComparison","profileValidationErrors","setProfileValidationErrors","showProfileValidationErrors","setShowProfileValidationErrors","scenarioValidationErrors","setScenarioValidationErrors","showScenarioValidationErrors","setShowScenarioValidationErrors","lifeStageOptions","value","label","desc","genderOptions","handleLogin","email","password","result","success","error","handleSignup","profile","handleLogout","handleSwitchToSignup","handleSwitchToLogin","window","addEventListener","removeEventListener","handleProfileUpdate","field","prev","handleScenarioUpdate","saveBasicProfile","errors","trim","Object","keys","length","saveScenario","scenarioToSave","Date","now","toString","createdAt","toISOString","updatedScenarios","map","s","createNewScenario","editScenario","scenario","deleteScenario","scenarioId","filter","runAnalysis","results","calculateLifeProjection","compareScenarios","scenarioIds","comparisons","find","calculateEnhancedMetrics","_metrics$emergencyFun","metrics","cashFlowAnalysis","emergencyFundStatus","expenseRatios","retirementReadiness","forEach","year","index","monthlyCashFlow","income","expenses","push","Math","round","annualCashFlow","isPositive","monthsOfExpenses","netWorth","monthsCovered","min","isAdequate","housingRatio","housingExpenses","livingRatio","livingExpenses","savingsRatio","savings","totalExpenseRatio","finalYear","currentAge","parseInt","retirementAge","yearsToRetirement","max","finalNetWorth","finalAnnualExpenses","recommendedRetirementAmount","retirementReadinessPercent","avgSavingsRate","reduce","sum","projectedNetWorth","recommendedAmount","readinessPercent","grade","monthsEmergencyFund","locationMultipliers","low","housing","salary","living","average","high","projection","regionData","annualIncome","isMarried","isPartnered","childrenBorn","ownHouse","monthlyHousing","housePrice","downPaymentAmount","yearsFromFirst","newChildren","floor","inflationFactor","pow","realIncome","baseExpenses","childExpenses","totalExpenses","savingsAmount","investmentGains","married","partnered","children","homeOwner","isProfileComplete","isScenarioComplete","className","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onSignup","entries","type","onChange","e","target","placeholder","option","onClick","disabled","_scenario$currentInco","toLocaleString","replace","checked","some","join","rows","parseFloat","enhancedMetrics","peakNetWorth","width","height","data","strokeDasharray","dataKey","tickFormatter","toFixed","formatter","labelFormatter","stroke","strokeWidth","_c","$RefreshReg$"],"sources":["/Users/lighthouse42/Documents/GitHub/kptest/src/App.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport { User, ArrowRight, CheckCircle, Plus, Edit3, Trash2, DollarSign, Home, Heart, TrendingUp, Save, BarChart3, ArrowLeft, FileText, Info, LogOut, AlertCircle } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar, AreaChart, Area } from 'recharts';\nimport { useAuth } from './auth.js';\nimport { LoginForm, SignupForm } from './AuthComponents.jsx';\n\nconst LifeFinancialPlanner = () => {\n  // Authentication state\n  const { user, loading: authLoading, login, signup, logout, updateUserProfile, updateUserScenarios, isAuthenticated } = useAuth();\n  const [authStep, setAuthStep] = useState('login'); // 'login' or 'signup'\n  const [authError, setAuthError] = useState('');\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n\n  // App state\n  const [step, setStep] = useState('profile_setup'); // 'profile_setup', 'scenario_list', 'scenario_create', 'scenario_results', 'methodology', 'scenario_comparison'\n  const [basicProfile, setBasicProfile] = useState({\n    name: '',\n    age: '',\n    gender: '',\n    lifeStage: ''\n  });\n  const [scenarios, setScenarios] = useState([]);\n  const [currentScenario, setCurrentScenario] = useState({\n    id: '',\n    name: '',\n    description: '',\n    currentIncome: 50000,\n    currentDebt: 0,\n    currentSavings: 5000,\n    monthlyExpenses: 3000,\n    salaryGrowthRate: 3,\n    housingStatus: 'renting',\n    monthlyRent: 1500,\n    homePrice: 300000,\n    downPaymentPercent: 20,\n    yearsUntilBuying: 3,\n    relationshipStatus: 'single',\n    partnerIncome: 0,\n    planToHaveChildren: false,\n    numberOfChildren: 0,\n    ageFirstChild: 30,\n    locationCost: 'average'\n  });\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const [selectedScenariosForComparison, setSelectedScenariosForComparison] = useState([]);\n  const [profileValidationErrors, setProfileValidationErrors] = useState({});\n  const [showProfileValidationErrors, setShowProfileValidationErrors] = useState(false);\n  const [scenarioValidationErrors, setScenarioValidationErrors] = useState({});\n  const [showScenarioValidationErrors, setShowScenarioValidationErrors] = useState(false);\n\n  const lifeStageOptions = [\n    { value: 'high_school', label: 'High School Student', desc: 'Planning for college' },\n    { value: 'college', label: 'College Student', desc: 'Currently in school' },\n    { value: 'recent_grad', label: 'Recent Graduate', desc: 'Just finished school, starting career' },\n    { value: 'early_career', label: 'Early Career', desc: '1-5 years work experience' },\n    { value: 'established', label: 'Established Professional', desc: '5+ years, considering major life changes' },\n    { value: 'mid_career', label: 'Mid-Career', desc: 'Peak earning years, family considerations' },\n    { value: 'pre_retirement', label: 'Pre-Retirement', desc: 'Planning for retirement transition' }\n  ];\n\n  const genderOptions = [\n    { value: 'male', label: 'Male' },\n    { value: 'female', label: 'Female' },\n    { value: 'non_binary', label: 'Non-binary' },\n    { value: 'prefer_not_to_say', label: 'Prefer not to say' }\n  ];\n\n  // Authentication handlers\n  const handleLogin = async (email, password) => {\n    setIsAuthLoading(true);\n    setAuthError('');\n    const result = await login(email, password);\n    if (!result.success) {\n      setAuthError(result.error);\n    }\n    setIsAuthLoading(false);\n  };\n\n  const handleSignup = async (email, password, name) => {\n    setIsAuthLoading(true);\n    setAuthError('');\n    const result = await signup(email, password, name);\n    if (!result.success) {\n      setAuthError(result.error);\n    } else {\n      // After successful signup, load user's existing profile if any\n      if (result.user && result.user.profile && result.user.profile.name) {\n        setBasicProfile(result.user.profile);\n        setScenarios(result.user.scenarios || []);\n        setStep('scenario_list');\n      }\n    }\n    setIsAuthLoading(false);\n  };\n\n  const handleLogout = () => {\n    logout();\n    setBasicProfile({ name: '', age: '', gender: '', lifeStage: '' });\n    setScenarios([]);\n    setStep('profile_setup');\n    setAuthStep('login');\n    setAuthError('');\n  };\n\n  // Load user data when authenticated\n  useEffect(() => {\n    if (user && isAuthenticated) {\n      if (user.profile && user.profile.name) {\n        setBasicProfile(user.profile);\n        setScenarios(user.scenarios || []);\n        setStep('scenario_list');\n      } else {\n        setStep('profile_setup');\n      }\n    }\n  }, [user, isAuthenticated]);\n\n  // Listen for auth form switching\n  useEffect(() => {\n    const handleSwitchToSignup = () => setAuthStep('signup');\n    const handleSwitchToLogin = () => setAuthStep('login');\n    \n    window.addEventListener('switchToSignup', handleSwitchToSignup);\n    window.addEventListener('switchToLogin', handleSwitchToLogin);\n    \n    return () => {\n      window.removeEventListener('switchToSignup', handleSwitchToSignup);\n      window.removeEventListener('switchToLogin', handleSwitchToLogin);\n    };\n  }, []);\n\n  const handleProfileUpdate = (field, value) => {\n    setBasicProfile(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear validation error when user starts typing\n    if (profileValidationErrors[field]) {\n      setProfileValidationErrors(prev => ({ ...prev, [field]: '' }));\n      setShowProfileValidationErrors(false);\n    }\n  };\n\n  const handleScenarioUpdate = (field, value) => {\n    setCurrentScenario(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear validation error when user starts typing\n    if (scenarioValidationErrors[field]) {\n      setScenarioValidationErrors(prev => ({ ...prev, [field]: '' }));\n      setShowScenarioValidationErrors(false);\n    }\n  };\n\n  // Save profile and update user data\n  const saveBasicProfile = () => {\n    // Validate required fields\n    const errors = {};\n    if (!basicProfile.name.trim()) {\n      errors.name = 'Name is required';\n    }\n    if (!basicProfile.age) {\n      errors.age = 'Age is required';\n    }\n    if (!basicProfile.gender) {\n      errors.gender = 'Gender selection is required';\n    }\n    if (!basicProfile.lifeStage) {\n      errors.lifeStage = 'Life stage selection is required';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setProfileValidationErrors(errors);\n      setShowProfileValidationErrors(true);\n      return;\n    }\n\n    setProfileValidationErrors({});\n    setShowProfileValidationErrors(false);\n    \n    if (isAuthenticated && user) {\n      updateUserProfile(basicProfile);\n    }\n    setStep('scenario_list');\n  };\n\n  const saveScenario = () => {\n    // Validate required fields\n    const errors = {};\n    if (!currentScenario.name.trim()) {\n      errors.name = 'Scenario name is required';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setScenarioValidationErrors(errors);\n      setShowScenarioValidationErrors(true);\n      return;\n    }\n\n    setScenarioValidationErrors({});\n    setShowScenarioValidationErrors(false);\n\n    const scenarioToSave = {\n      ...currentScenario,\n      id: currentScenario.id || Date.now().toString(),\n      createdAt: new Date().toISOString()\n    };\n    \n    const updatedScenarios = currentScenario.id \n      ? scenarios.map(s => s.id === currentScenario.id ? scenarioToSave : s)\n      : [...scenarios, scenarioToSave];\n    \n    setScenarios(updatedScenarios);\n    \n    // Update user's scenarios in auth system\n    if (isAuthenticated && user) {\n      updateUserScenarios(updatedScenarios);\n    }\n    \n    setStep('scenario_list');\n  };\n\n  const createNewScenario = () => {\n    setCurrentScenario({\n      id: '',\n      name: '',\n      description: '',\n      currentIncome: 50000,\n      currentDebt: 0,\n      currentSavings: 5000,\n      monthlyExpenses: 3000,\n      salaryGrowthRate: 3,\n      housingStatus: 'renting',\n      monthlyRent: 1500,\n      homePrice: 300000,\n      downPaymentPercent: 20,\n      yearsUntilBuying: 3,\n      relationshipStatus: 'single',\n      partnerIncome: 0,\n      planToHaveChildren: false,\n      numberOfChildren: 0,\n      ageFirstChild: 30,\n      locationCost: 'average'\n    });\n    setStep('scenario_create');\n  };\n\n  const editScenario = (scenario) => {\n    setCurrentScenario(scenario);\n    setStep('scenario_create');\n  };\n\n  const deleteScenario = (scenarioId) => {\n    const updatedScenarios = scenarios.filter(s => s.id !== scenarioId);\n    setScenarios(updatedScenarios);\n    \n    // Update user's scenarios in auth system\n    if (isAuthenticated && user) {\n      updateUserScenarios(updatedScenarios);\n    }\n  };\n\n  const runAnalysis = (scenario) => {\n    const results = calculateLifeProjection(scenario, basicProfile);\n    setAnalysisResults({ scenario, results });\n    setStep('scenario_results');\n  };\n\n  const compareScenarios = (scenarioIds) => {\n    const comparisons = scenarioIds.map(id => {\n      const scenario = scenarios.find(s => s.id === id);\n      const results = calculateLifeProjection(scenario, basicProfile);\n      return { scenario, results };\n    });\n    setSelectedScenariosForComparison(comparisons);\n    setStep('scenario_comparison');\n  };\n\n  // Calculate additional metrics for enhanced analysis\n  const calculateEnhancedMetrics = (results, scenario) => {\n    const metrics = {\n      cashFlowAnalysis: [],\n      emergencyFundStatus: [],\n      expenseRatios: [],\n      retirementReadiness: {}\n    };\n\n    results.forEach((year, index) => {\n      // Cash Flow Analysis\n      const monthlyCashFlow = (year.income - year.expenses) / 12;\n      metrics.cashFlowAnalysis.push({\n        age: year.age,\n        year: year.year,\n        monthlyCashFlow: Math.round(monthlyCashFlow),\n        annualCashFlow: Math.round(year.income - year.expenses),\n        income: year.income,\n        expenses: year.expenses,\n        isPositive: monthlyCashFlow > 0\n      });\n\n      // Emergency Fund Status (months of expenses covered)\n      const monthsOfExpenses = year.netWorth > 0 ? (year.netWorth / (year.expenses / 12)) : 0;\n      metrics.emergencyFundStatus.push({\n        age: year.age,\n        year: year.year,\n        monthsCovered: Math.min(Math.round(monthsOfExpenses), 24), // Cap at 24 months for chart readability\n        isAdequate: monthsOfExpenses >= 6,\n        netWorth: year.netWorth,\n        monthlyExpenses: year.expenses / 12\n      });\n\n      // Expense Ratios\n      const housingRatio = year.income > 0 ? (year.housingExpenses / year.income) * 100 : 0;\n      const livingRatio = year.income > 0 ? (year.livingExpenses / year.income) * 100 : 0;\n      const savingsRatio = year.income > 0 ? (year.savings / year.income) * 100 : 0;\n      \n      metrics.expenseRatios.push({\n        age: year.age,\n        year: year.year,\n        housingRatio: Math.round(housingRatio),\n        livingRatio: Math.round(livingRatio),\n        savingsRatio: Math.round(savingsRatio),\n        totalExpenseRatio: Math.round(housingRatio + livingRatio)\n      });\n    });\n\n    // Retirement Readiness Calculation\n    const finalYear = results[results.length - 1];\n    const currentAge = parseInt(basicProfile.age);\n    const retirementAge = 65;\n    const yearsToRetirement = Math.max(0, retirementAge - currentAge);\n    const finalNetWorth = finalYear.netWorth;\n    \n    // Rule of thumb: 25x annual expenses for retirement (4% withdrawal rule)\n    const finalAnnualExpenses = finalYear.expenses;\n    const recommendedRetirementAmount = finalAnnualExpenses * 25;\n    const retirementReadinessPercent = (finalNetWorth / recommendedRetirementAmount) * 100;\n    \n    // Average savings rate over projection\n    const avgSavingsRate = results.reduce((sum, year) => {\n      return sum + (year.income > 0 ? (year.savings / year.income) * 100 : 0);\n    }, 0) / results.length;\n\n    metrics.retirementReadiness = {\n      currentAge,\n      retirementAge,\n      yearsToRetirement,\n      projectedNetWorth: finalNetWorth,\n      recommendedAmount: recommendedRetirementAmount,\n      readinessPercent: Math.round(retirementReadinessPercent),\n      avgSavingsRate: Math.round(avgSavingsRate),\n      grade: retirementReadinessPercent >= 100 ? 'A' : \n             retirementReadinessPercent >= 80 ? 'B' : \n             retirementReadinessPercent >= 60 ? 'C' : \n             retirementReadinessPercent >= 40 ? 'D' : 'F',\n      monthsEmergencyFund: metrics.emergencyFundStatus[0]?.monthsCovered || 0\n    };\n\n    return metrics;\n  };\n\n  // Financial calculation engine\n  const calculateLifeProjection = (scenario, profile) => {\n    const locationMultipliers = {\n      low: { housing: 0.7, salary: 0.9, living: 0.8 },\n      average: { housing: 1.0, salary: 1.0, living: 1.0 },\n      high: { housing: 1.8, salary: 1.3, living: 1.3 }\n    };\n    \n    const projection = [];\n    const regionData = locationMultipliers[scenario.locationCost];\n    \n    let currentAge = parseInt(profile.age);\n    let netWorth = scenario.currentSavings - scenario.currentDebt;\n    let annualIncome = scenario.currentIncome * regionData.salary;\n    let isMarried = scenario.relationshipStatus === 'married';\n    let isPartnered = scenario.relationshipStatus !== 'single';\n    let childrenBorn = 0;\n    let ownHouse = scenario.housingStatus === 'owns';\n    let monthlyHousing = scenario.housingStatus === 'living_with_family' ? 0 : \n                        (ownHouse ? (scenario.homePrice * regionData.housing * 0.004) :\n                         scenario.monthlyRent * regionData.housing);\n    \n    if (isPartnered) {\n      annualIncome += scenario.partnerIncome * regionData.salary;\n    }\n    \n    for (let year = 0; year < 45; year++) {\n      currentAge = parseInt(profile.age) + year;\n      \n      // House purchase\n      if (!ownHouse && scenario.housingStatus === 'renting' && year >= scenario.yearsUntilBuying) {\n        ownHouse = true;\n        const housePrice = scenario.homePrice * regionData.housing;\n        const downPaymentAmount = housePrice * (scenario.downPaymentPercent / 100);\n        netWorth -= downPaymentAmount;\n        monthlyHousing = (housePrice - downPaymentAmount) * 0.055 / 12;\n      }\n      \n      // Children\n      if (scenario.planToHaveChildren && currentAge >= scenario.ageFirstChild && childrenBorn < scenario.numberOfChildren) {\n        const yearsFromFirst = currentAge - scenario.ageFirstChild;\n        const newChildren = Math.min(Math.floor(yearsFromFirst / 2) + 1, scenario.numberOfChildren) - childrenBorn;\n        childrenBorn += newChildren;\n      }\n      \n      // Annual calculations\n      const inflationFactor = Math.pow(1.025, year);\n      const realIncome = annualIncome * Math.pow(1 + scenario.salaryGrowthRate / 100, year);\n      const baseExpenses = scenario.monthlyExpenses * 12;\n      const childExpenses = childrenBorn * 12000;\n      const livingExpenses = (baseExpenses + childExpenses) * regionData.living * inflationFactor;\n      const housingExpenses = monthlyHousing * 12 * inflationFactor;\n      \n      const totalExpenses = livingExpenses + housingExpenses;\n      const savingsAmount = Math.max(0, realIncome - totalExpenses);\n      const investmentGains = netWorth > 0 ? netWorth * 0.07 : 0;\n      \n      netWorth += savingsAmount + investmentGains;\n      \n      projection.push({\n        age: currentAge,\n        year: currentAge,\n        netWorth: Math.round(netWorth),\n        income: Math.round(realIncome),\n        expenses: Math.round(totalExpenses),\n        savings: Math.round(savingsAmount),\n        married: isMarried,\n        partnered: isPartnered,\n        children: childrenBorn,\n        homeOwner: ownHouse,\n        livingExpenses: Math.round(livingExpenses),\n        housingExpenses: Math.round(housingExpenses),\n        childExpenses: Math.round(childExpenses * regionData.living * inflationFactor)\n      });\n    }\n    \n    return projection;\n  };\n\n  const isProfileComplete = () => {\n    return basicProfile.name && basicProfile.age && basicProfile.gender && basicProfile.lifeStage;\n  };\n\n  const isScenarioComplete = () => {\n    return currentScenario.name.trim() !== '';\n  };\n\n  // Show loading screen while checking authentication\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show authentication forms if not logged in\n  if (!isAuthenticated) {\n    return authStep === 'login' ? (\n      <LoginForm \n        onLogin={handleLogin} \n        loading={isAuthLoading} \n        error={authError} \n      />\n    ) : (\n      <SignupForm \n        onSignup={handleSignup} \n        loading={isAuthLoading} \n        error={authError} \n      />\n    );\n  }\n\n  // Profile Setup Component\n  if (step === 'profile_setup') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-6\">\n        <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full p-8\">\n          {/* Validation Error Banner */}\n          {showProfileValidationErrors && Object.keys(profileValidationErrors).length > 0 && (\n            <div className=\"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-500\" />\n                <h3 className=\"text-sm font-medium text-red-800\">Please complete all required fields:</h3>\n              </div>\n              <ul className=\"text-sm text-red-700 space-y-1\">\n                {Object.entries(profileValidationErrors).map(([field, error]) => (\n                  <li key={field} className=\"flex items-center gap-2\">\n                    <span className=\"w-1 h-1 bg-red-500 rounded-full\"></span>\n                    {error}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          <div className=\"text-center mb-8\">\n            <div className=\"flex justify-center mb-4\">\n              <div className=\"bg-blue-100 p-3 rounded-full\">\n                <User className=\"h-8 w-8 text-blue-600\" />\n              </div>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Welcome to Life Financial Planner</h1>\n            <p className=\"text-gray-600\">Let's start with some basic information about you</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                What's your name?\n              </label>\n              <input\n                type=\"text\"\n                value={basicProfile.name}\n                onChange={(e) => handleProfileUpdate('name', e.target.value)}\n                placeholder=\"Enter your first name\"\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                How old are you?\n              </label>\n              <input\n                type=\"number\"\n                value={basicProfile.age}\n                onChange={(e) => handleProfileUpdate('age', e.target.value)}\n                placeholder=\"Age\"\n                min=\"16\"\n                max=\"75\"\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Gender (optional, helps with life expectancy calculations)\n              </label>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {genderOptions.map((option) => (\n                  <button\n                    key={option.value}\n                    onClick={() => handleProfileUpdate('gender', option.value)}\n                    className={`p-3 border rounded-lg text-left transition-colors ${\n                      basicProfile.gender === option.value\n                        ? 'border-blue-500 bg-blue-50 text-blue-700'\n                        : 'border-gray-300 hover:border-gray-400'\n                    }`}\n                  >\n                    {option.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                What's your current life stage?\n              </label>\n              <div className=\"space-y-3\">\n                {lifeStageOptions.map((option) => (\n                  <button\n                    key={option.value}\n                    onClick={() => handleProfileUpdate('lifeStage', option.value)}\n                    className={`w-full p-4 border rounded-lg text-left transition-colors ${\n                      basicProfile.lifeStage === option.value\n                        ? 'border-blue-500 bg-blue-50'\n                        : 'border-gray-300 hover:border-gray-400'\n                    }`}\n                  >\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-1\">\n                        <h3 className={`font-medium ${\n                          basicProfile.lifeStage === option.value ? 'text-blue-700' : 'text-gray-800'\n                        }`}>\n                          {option.label}\n                        </h3>\n                        <p className={`text-sm ${\n                          basicProfile.lifeStage === option.value ? 'text-blue-600' : 'text-gray-600'\n                        }`}>\n                          {option.desc}\n                        </p>\n                      </div>\n                      {basicProfile.lifeStage === option.value && (\n                        <CheckCircle className=\"h-5 w-5 text-blue-500\" />\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-8 pt-6 border-t border-gray-200\">\n            <button\n              onClick={saveBasicProfile}\n              disabled={!isProfileComplete()}\n              className={`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${\n                isProfileComplete()\n                  ? 'bg-blue-600 text-white hover:bg-blue-700'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }`}\n            >\n              Continue to Financial Scenarios\n              <ArrowRight className=\"h-5 w-5\" />\n            </button>\n            \n            {!isProfileComplete() && (\n              <p className=\"text-sm text-gray-500 text-center mt-2\">\n                Please complete all fields to continue\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Scenario List View\n  if (step === 'scenario_list') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-6\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"bg-white rounded-xl shadow-xl p-8\">\n            <div className=\"flex justify-between items-center mb-8\">\n              <div>\n                <h1 className=\"text-3xl font-bold text-gray-800\">\n                  Welcome back, {basicProfile.name}! \n                </h1>\n                <p className=\"text-gray-600 mt-2\">\n                  Manage your financial scenarios and explore different life paths\n                </p>\n              </div>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={handleLogout}\n                  className=\"flex items-center gap-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors\"\n                >\n                  <LogOut className=\"h-4 w-4\" />\n                  Logout\n                </button>\n                <button\n                  onClick={createNewScenario}\n                  className=\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <Plus className=\"h-5 w-5\" />\n                  New Scenario\n                </button>\n              </div>\n            </div>\n\n            {scenarios.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center\">\n                  <TrendingUp className=\"h-12 w-12 text-gray-400\" />\n                </div>\n                <h3 className=\"text-xl font-medium text-gray-800 mb-2\">No scenarios yet</h3>\n                <p className=\"text-gray-600 mb-6\">\n                  Create your first financial scenario to start exploring different life paths\n                </p>\n                <button\n                  onClick={createNewScenario}\n                  className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  Create Your First Scenario\n                </button>\n              </div>\n            ) : (\n              <div className=\"grid gap-6\">\n                {scenarios.map((scenario) => (\n                  <div key={scenario.id} className=\"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <div>\n                        <h3 className=\"text-xl font-semibold text-gray-800\">{scenario.name}</h3>\n                        {scenario.description && (\n                          <p className=\"text-gray-600 mt-1\">{scenario.description}</p>\n                        )}\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => editScenario(scenario)}\n                          className=\"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                        >\n                          <Edit3 className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => deleteScenario(scenario.id)}\n                          className=\"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-3 gap-6 text-sm\">\n                      <div className=\"flex items-center gap-2\">\n                        <DollarSign className=\"h-4 w-4 text-green-600\" />\n                        <span className=\"font-medium\">Income:</span>\n                        <span>${scenario.currentIncome?.toLocaleString()}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Home className=\"h-4 w-4 text-blue-600\" />\n                        <span className=\"font-medium\">Housing:</span>\n                        <span className=\"capitalize\">{scenario.housingStatus}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Heart className=\"h-4 w-4 text-pink-600\" />\n                        <span className=\"font-medium\">Status:</span>\n                        <span className=\"capitalize\">{scenario.relationshipStatus.replace('_', ' ')}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-4 pt-4 border-t border-gray-100 flex justify-between\">\n                      <button \n                        onClick={() => runAnalysis(scenario)}\n                        className=\"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1\"\n                      >\n                        <BarChart3 className=\"h-4 w-4\" />\n                        Run Analysis \n                      </button>\n                      <label className=\"flex items-center gap-2 text-sm text-gray-600\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedScenariosForComparison.some(s => s.scenario.id === scenario.id)}\n                          onChange={(e) => {\n                            if (e.target.checked && selectedScenariosForComparison.length < 3) {\n                              const results = calculateLifeProjection(scenario, basicProfile);\n                              setSelectedScenariosForComparison(prev => [...prev, { scenario, results }]);\n                            } else {\n                              setSelectedScenariosForComparison(prev => \n                                prev.filter(s => s.scenario.id !== scenario.id)\n                              );\n                            }\n                          }}\n                          className=\"rounded\"\n                          disabled={!selectedScenariosForComparison.some(s => s.scenario.id === scenario.id) && selectedScenariosForComparison.length >= 3}\n                        />\n                        Compare\n                      </label>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n            \n            {/* Compare Scenarios Button */}\n            {selectedScenariosForComparison.length >= 2 && (\n              <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h4 className=\"font-medium text-blue-800\">\n                      {selectedScenariosForComparison.length} scenarios selected for comparison\n                    </h4>\n                    <p className=\"text-sm text-blue-600\">\n                      {selectedScenariosForComparison.map(s => s.scenario.name).join(', ')}\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => setSelectedScenariosForComparison([])}\n                      className=\"text-blue-600 hover:text-blue-700 text-sm px-3 py-1 border border-blue-200 rounded\"\n                    >\n                      Clear\n                    </button>\n                    <button\n                      onClick={() => setStep('scenario_comparison')}\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                      Compare Scenarios\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\n              <button\n                onClick={() => {\n                  setStep('profile_setup');\n                  setBasicProfile({ name: '', age: '', gender: '', lifeStage: '' });\n                  setScenarios([]);\n                }}\n                className=\"text-gray-500 hover:text-gray-700 text-sm\"\n              >\n                Edit Profile\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Scenario Creator\n  if (step === 'scenario_create') {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-white rounded-xl shadow-xl p-8\">\n            <div className=\"flex items-center gap-3 mb-8\">\n              <button \n                onClick={() => setStep('scenario_list')}\n                className=\"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100\"\n              >\n                <ArrowLeft className=\"h-5 w-5\" />\n              </button>\n              <div>\n                <h1 className=\"text-3xl font-bold text-gray-800\">\n                  {currentScenario.id ? 'Edit Scenario' : 'Create New Scenario'}\n                </h1>\n                <p className=\"text-gray-600\">Define your financial situation and goals</p>\n              </div>\n            </div>\n\n            {/* Validation Error Banner */}\n            {showScenarioValidationErrors && Object.keys(scenarioValidationErrors).length > 0 && (\n              <div className=\"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <AlertCircle className=\"h-5 w-5 text-red-500\" />\n                  <h3 className=\"text-sm font-medium text-red-800\">Please fix the following errors:</h3>\n                </div>\n                <ul className=\"text-sm text-red-700 space-y-1\">\n                  {Object.entries(scenarioValidationErrors).map(([field, error]) => (\n                    <li key={field} className=\"flex items-center gap-2\">\n                      <span className=\"w-1 h-1 bg-red-500 rounded-full\"></span>\n                      {error}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            <div className=\"space-y-8\">\n              {/* Basic Info */}\n              <div className=\"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Scenario Details</h3>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Scenario Name *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={currentScenario.name}\n                      onChange={(e) => handleScenarioUpdate('name', e.target.value)}\n                      placeholder=\"e.g., Current Situation, Dream Job Path, Conservative Plan\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Description (Optional)\n                    </label>\n                    <textarea\n                      value={currentScenario.description}\n                      onChange={(e) => handleScenarioUpdate('description', e.target.value)}\n                      placeholder=\"Brief description of this scenario...\"\n                      rows=\"2\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Financial Basics */}\n              <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <DollarSign className=\"h-5 w-5 text-green-600\" />\n                    <h3 className=\"text-lg font-semibold text-gray-800\">Financial Basics</h3>\n                  </div>\n                  <button\n                    onClick={() => setStep('methodology')}\n                    className=\"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm border border-blue-200 px-3 py-1 rounded-lg hover:bg-blue-50 transition-colors\"\n                  >\n                    <Info className=\"h-4 w-4\" />\n                    View Methodology\n                  </button>\n                </div>\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Current Annual Income\n                    </label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"500000\"\n                        step=\"1000\"\n                        value={currentScenario.currentIncome}\n                        onChange={(e) => handleScenarioUpdate('currentIncome', Math.max(0, parseInt(e.target.value) || 0))}\n                        className=\"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"50000\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Current Debt\n                    </label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"500000\"\n                        step=\"1000\"\n                        value={currentScenario.currentDebt}\n                        onChange={(e) => handleScenarioUpdate('currentDebt', Math.max(0, parseInt(e.target.value) || 0))}\n                        className=\"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"0\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Current Savings\n                    </label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"500000\"\n                        step=\"1000\"\n                        value={currentScenario.currentSavings}\n                        onChange={(e) => handleScenarioUpdate('currentSavings', Math.max(0, parseInt(e.target.value) || 0))}\n                        className=\"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"5000\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Monthly Living Expenses\n                    </label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"20000\"\n                        step=\"100\"\n                        value={currentScenario.monthlyExpenses}\n                        onChange={(e) => handleScenarioUpdate('monthlyExpenses', Math.max(0, parseInt(e.target.value) || 0))}\n                        className=\"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"3000\"\n                      />\n                    </div>\n                    <p className=\"text-xs text-gray-500 mt-1\">Excludes housing costs</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Annual Salary Growth Rate\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"15\"\n                        step=\"0.5\"\n                        value={currentScenario.salaryGrowthRate}\n                        onChange={(e) => handleScenarioUpdate('salaryGrowthRate', Math.max(0, parseFloat(e.target.value) || 0))}\n                        className=\"w-full pr-8 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        placeholder=\"3\"\n                      />\n                      <span className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\">%</span>\n                    </div>\n                    <p className=\"text-xs text-gray-500 mt-1\">Typical range: 2-5%</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Save Button */}\n              <div className=\"pt-6 border-t border-gray-200 flex justify-between\">\n                <button\n                  onClick={() => setStep('scenario_list')}\n                  className=\"px-6 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={saveScenario}\n                  disabled={!isScenarioComplete()}\n                  className={`px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${\n                    isScenarioComplete()\n                      ? 'bg-blue-600 text-white hover:bg-blue-700'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  <Save className=\"h-4 w-4\" />\n                  {currentScenario.id ? 'Update Scenario' : 'Save Scenario'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Scenario Results View\n  if (step === 'scenario_results' && analysisResults) {\n    const { scenario, results } = analysisResults;\n    const enhancedMetrics = calculateEnhancedMetrics(results, scenario);\n    const finalYear = results[results.length - 1];\n    const peakNetWorth = results.reduce((max, year) => year.netWorth > max.netWorth ? year : max);\n\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 p-6\">\n        <div className=\"max-w-6xl mx-auto space-y-6\">\n          <div className=\"bg-white rounded-xl shadow-xl p-8\">\n            <div className=\"flex items-center gap-3 mb-8\">\n              <button \n                onClick={() => setStep('scenario_list')}\n                className=\"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100\"\n              >\n                <ArrowLeft className=\"h-5 w-5\" />\n              </button>\n              <div>\n                <h1 className=\"text-3xl font-bold text-gray-800\">{scenario.name}</h1>\n                <p className=\"text-gray-600\">Comprehensive financial analysis over {results.length} years</p>\n              </div>\n            </div>\n\n            {/* Enhanced Summary Cards */}\n            <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n              <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-lg\">\n                <h4 className=\"text-sm font-medium opacity-90\">Net Worth at {finalYear.age}</h4>\n                <p className=\"text-2xl font-bold\">${finalYear.netWorth.toLocaleString()}</p>\n              </div>\n              <div className=\"bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 rounded-lg\">\n                <h4 className=\"text-sm font-medium opacity-90\">Retirement Readiness</h4>\n                <p className=\"text-2xl font-bold\">Grade {enhancedMetrics.retirementReadiness.grade}</p>\n                <p className=\"text-xs opacity-75\">{enhancedMetrics.retirementReadiness.readinessPercent}% of goal</p>\n              </div>\n              <div className=\"bg-gradient-to-r from-purple-500 to-pink-600 text-white p-6 rounded-lg\">\n                <h4 className=\"text-sm font-medium opacity-90\">Avg Savings Rate</h4>\n                <p className=\"text-2xl font-bold\">{enhancedMetrics.retirementReadiness.avgSavingsRate}%</p>\n              </div>\n              <div className=\"bg-gradient-to-r from-orange-500 to-red-600 text-white p-6 rounded-lg\">\n                <h4 className=\"text-sm font-medium opacity-90\">Emergency Fund</h4>\n                <p className=\"text-2xl font-bold\">{enhancedMetrics.retirementReadiness.monthsEmergencyFund} mos</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Net Worth Chart */}\n          <div className=\"bg-white rounded-xl shadow-xl p-8\">\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Net Worth Progression</h3>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart data={results}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"age\" />\n                <YAxis tickFormatter={(value) => `${(value/1000).toFixed(0)}k`} />\n                <Tooltip \n                  formatter={(value, name) => [`${value?.toLocaleString()}`, name]}\n                  labelFormatter={(age) => `Age ${age}`}\n                />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"netWorth\" \n                  stroke=\"#2563eb\" \n                  strokeWidth={3}\n                  name=\"Net Worth\"\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"bg-white rounded-xl shadow-xl p-8\">\n            <div className=\"flex justify-between\">\n              <button\n                onClick={() => setStep('scenario_list')}\n                className=\"px-6 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Back to Scenarios\n              </button>\n              <button\n                onClick={() => editScenario(scenario)}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n              >\n                <Edit3 className=\"h-4 w-4\" />\n                Edit Scenario\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Default fallback\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-6\">\n      <div className=\"bg-white rounded-xl shadow-xl p-8 text-center\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Something went wrong</h2>\n        <p className=\"text-gray-600 mb-6\">Please refresh the page and try again.</p>\n        <button\n          onClick={() => setStep('profile_setup')}\n          className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Start Over\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default LifeFinancialPlanner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}